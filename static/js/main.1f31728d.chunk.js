(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{26:function(t,e,a){},47:function(t,e,a){},52:function(t,e,a){"use strict";a.r(e);var s=a(1),n=a.n(s),c=a(20),i=a.n(c),r=(a(26),a(9)),o=a.n(r),l=a(10),d=a(2),u=a(3),p=a(6),h=a(5),b=a(4),j=a(8),m=a.n(j),v=a(0),_=window.is_deploy?"https://crypto-web-app-macstark.herokuapp.com/":"http://localhost:3000/",O=function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).state={login_callback:s.props.login_callback,error:void 0},s.onClick=s.onClick.bind(Object(p.a)(s)),s}return Object(u.a)(a,[{key:"onClick",value:function(){var t=this,e=document.getElementById("username").value,a=document.getElementById("password").value,s=_+"login/".concat(e,"/").concat(a);console.log(s),m()({method:"get",url:s}).then((function(e){t.state.login_callback(e.data.response[0].portfolio_id,e.data.response[0],e.data.username)})).catch((function(e){console.log("Login Error: Unknown Username or Incorrect Password"),t.setState({error:"Unknown Username"})}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"login-container",children:[Object(v.jsx)("div",{className:"login-form-header",children:"Login Form"}),Object(v.jsxs)("div",{className:"login-username",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{type:"text",id:"username",name:"username"})]}),Object(v.jsxs)("div",{className:"login-password",children:[Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)("input",{type:"password",id:"password",name:"password"})]}),Object(v.jsx)("button",{type:"button",onClick:this.onClick,children:"Login"})]}),Object(v.jsx)("div",{children:this.state.error})]})}}]),a}(n.a.Component),f=(a(47),function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(){var t;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).onClick=function(){var e=t.props,a=e.label;(0,e.onClick)(a)},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.onClick,e=this.props,a=e.activeTab,s=e.label,n="tab-list-item";return a===s&&(n+=" tab-list-active"),Object(v.jsx)("li",{className:n,onClick:t,children:s})}}]),a}(s.Component)),x=function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).onClickTabItem=function(t){s.setState({activeTab:t})},s.state={activeTab:s.props.children[0].props.label},s}return Object(u.a)(a,[{key:"render",value:function(){var t=this.onClickTabItem,e=this.props.children,a=this.state.activeTab;return Object(v.jsxs)("div",{className:"tabs",children:[Object(v.jsx)("ol",{className:"tab-list",children:e.map((function(e){var s=e.props.label;return Object(v.jsx)(f,{activeTab:a,label:s,onClick:t},s)}))}),Object(v.jsx)("div",{className:"tab-content",children:e.map((function(t){if(t.props.label===a)return t.props.children}))})]})}}]),a}(s.Component),g=window.is_deploy?"https://crypto-web-app-macstark.herokuapp.com/":"http://localhost:3000/",w=function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).state={portfolio_id:s.props.portfolio_id,portfolio_values:s.props.portfolio_values,t_o:{},callback:s.props.update},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({portfolio_id:this.props.portfolio_id,portfolio_values:this.props.portfolio_values,t_o:{},callback:this.props.update})}},{key:"onClick",value:function(){var t=Object(l.a)(o.a.mark((function t(e){var a,s,n=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),a={ticker:document.getElementById("coin_type_1").value.toUpperCase(),amt:document.getElementById("amount_1").value,is_buy:"buy"===document.getElementById("type_1").value},s=g+"transaction/".concat(this.state.portfolio_id,"/").concat(a.ticker,"/").concat(a.amt,"/").concat(a.is_buy),t.next=5,m()({method:"post",url:s}).then((function(t){console.log(t),n.state.callback(t.data[0]),console.log("calling portfolio callback")})).catch((function(t){console.log(t),alert("Transaction Error: Insufficient Funds"),console.log("Transaction Error: Illegal Transaction")}));case 5:return t.abrupt("return");case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"transaction-header",children:"Make a new transaction"}),Object(v.jsx)("div",{className:"transaction",children:Object(v.jsxs)("form",{id:"form_1",children:[Object(v.jsxs)("div",{className:"transaction-type",children:[Object(v.jsx)("label",{htmlFor:"transaction_type",children:"Buy or Sell"}),Object(v.jsxs)("select",{name:"transaction_type",id:"type_1",children:[Object(v.jsx)("option",{value:"buy",children:"Buy"}),Object(v.jsx)("option",{value:"sell",children:"Sell"})]})]}),Object(v.jsxs)("div",{className:"transaction-coin",children:[Object(v.jsx)("label",{htmlFor:"coin_type",children:"Select Coin            "}),Object(v.jsxs)("select",{name:"coin_type",id:"coin_type_1",children:[Object(v.jsx)("option",{value:"btc",children:"Bitcoin"}),Object(v.jsx)("option",{value:"eth",children:"Ethereum"}),Object(v.jsx)("option",{value:"ltc",children:"Litecoin"})]})]}),Object(v.jsxs)("div",{className:"transaction-amount",children:[Object(v.jsx)("label",{htmlFor:"amount",children:"Enter the Transaction Amount               "}),Object(v.jsx)("input",{type:"number",id:"amount_1"})]}),Object(v.jsxs)("div",{className:"transaction-submit-button",children:[" ",Object(v.jsx)("input",{type:"submit",value:"Submit Transaction",onClick:this.onClick.bind(this)})]})]})})]})}}]),a}(n.a.Component),k=function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).state={currentCount:s.props.seconds,callback:s.props.callback,on:s.props.on},s}return Object(u.a)(a,[{key:"timer",value:function(){this.setState({currentCount:this.state.currentCount-1}),this.state.currentCount<1&&(this.state.callback(),this.setState({currentCount:this.props.seconds}))}},{key:"componentDidMount",value:function(){this.intervalId=setInterval(this.timer.bind(this),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){return Object(v.jsx)("div",{children:this.state.on?this.state.currentCount:""})}}]),a}(s.Component),y=window.is_deploy?"https://crypto-web-app-macstark.herokuapp.com/":"http://localhost:3000/",N=function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).state={current_whales:[]},s.get_latest_whales=s.get_latest_whales.bind(Object(p.a)(s)),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({current_whales:[]}),this.get_latest_whales()}},{key:"get_latest_whales",value:function(){var t=this;console.log("getting latest whales"),m()({method:"get",url:y+"transactions/whales/btc"}).then((function(e){if(console.log(e),0==e.data.length)console.log("New whale list blank for some reason-skipping udpate");else{var a=e.data.map((function(t){return{date_time:t.time,amount_btc:t.btc_amt,amount_usd:t.usd_amt}}));console.log(a),t.setState({current_whales:a})}})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){if(0===this.state.current_whales.length)return Object(v.jsxs)("div",{children:[Object(v.jsx)(k,{on:!1,seconds:60,callback:this.get_latest_whales}),"Loading Whale List"]});var t=this.state.current_whales.map((function(t,e){return Object(v.jsxs)("div",{className:"table-row-whale",children:[Object(v.jsx)("div",{className:"table-data-whale",children:t.amount_btc}),Object(v.jsx)("div",{className:"table-data-whale",children:Math.round(t.amount_usd/1e6)+" M"}),Object(v.jsx)("div",{className:"table-data-whale",children:t.date_time})]},e)}));return Object(v.jsxs)("div",{className:"whaleview",children:[Object(v.jsx)("div",{children:"Largest BTC transactions in last hour"}),Object(v.jsxs)("div",{className:"whale-table",children:[Object(v.jsxs)("div",{className:"table-row-whale",children:[Object(v.jsx)("div",{className:"table-data-whale",children:"btc_amt"},"whale-btc-amt-header"),Object(v.jsx)("div",{className:"table-data-whale",children:"usd_amt"},"whale-usd-amt-header"),Object(v.jsx)("div",{className:"table-data-whale",children:"time"},"whale-time-amt-header")]},"whale-header"),t]}),Object(v.jsx)("div",{children:Object(v.jsx)(k,{on:!1,seconds:60,callback:this.get_latest_whales})})]})}}]),a}(n.a.Component),C=window.is_deploy?"https://crypto-web-app-macstark.herokuapp.com/":"http://localhost:3000/",S=function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).round=function(t){return Math.round(100*t)/100},s.time_update=function(){m.a.get(C+"currentprices/").then((function(t){console.log("Updating to latest price data"),s.setState({current_prices:t.data[0],portfolio_id:s.state.portfolio_id}),s.state.callback_time_update(t.data)}))},s.state={id:s.props.id,values:s.props.values,transaction_update:s.props.transaction_update,current_prices:s.props.current_prices,callback_time_update:s.props.time_update},s.update=s.update.bind(Object(p.a)(s)),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({id:this.props.id,values:this.props.values,transaction_update:this.props.transaction_update,current_prices:this.props.current_prices,callback_time_update:this.props.time_update})}},{key:"update",value:function(t){console.log("transaction request completed"),this.setState({values:t}),this.state.transaction_update(t)}},{key:"render",value:function(){var t=parseFloat(this.state.values.btc_amt),e=parseFloat(this.state.values.eth_amt),a=parseFloat(this.state.values.ltc_amt),s=parseFloat(this.state.values.usd_amt),n=t*parseFloat(this.state.current_prices.btc_usd)+e*parseFloat(this.state.current_prices.eth_usd)+a*parseFloat(this.state.current_prices.ltc_usd)+s;return Object(v.jsxs)("div",{className:"bottom-grid",children:[Object(v.jsx)("div",{className:"whale-view",children:Object(v.jsx)(N,{})}),Object(v.jsx)("div",{className:"clock",children:Object(v.jsx)(k,{on:!0,seconds:15,callback:this.time_update})}),Object(v.jsxs)("div",{className:"portfolio",children:[Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"portfolio-header",children:["Current Value:  ",this.round(n)," $USD"]}),Object(v.jsx)("div",{className:"portfolio-card",children:Object(v.jsx)("div",{className:"portfolio-list",children:Object(v.jsxs)("div",{className:"table",children:[Object(v.jsxs)("div",{className:"table-row",children:[Object(v.jsx)("div",{className:"table-data",children:"Currency"},"portfolio-table-header-currency"),Object(v.jsx)("div",{className:"table-data",children:"Current Balance"},"portfolio-table-header-balance")]},"portfolio-table-header-thing"),Object(v.jsxs)("div",{className:"table-row",children:[Object(v.jsx)("div",{className:"table-data",children:"BTC"}),Object(v.jsx)("div",{className:"table-data",children:this.round(t)})]}),Object(v.jsxs)("div",{className:"table-row",children:[Object(v.jsx)("div",{className:"table-data",children:"ETH"}),Object(v.jsx)("div",{className:"table-data",children:this.round(e)})]}),Object(v.jsxs)("div",{className:"table-row",children:[Object(v.jsx)("div",{className:"table-data",children:"LTC"}),Object(v.jsx)("div",{className:"table-data",children:this.round(a)})]}),Object(v.jsxs)("div",{className:"table-row",children:[Object(v.jsx)("div",{className:"table-data",children:"USD"}),Object(v.jsx)("div",{className:"table-data",children:this.round(s)})]})]})})})]}),Object(v.jsx)("div",{children:Object(v.jsx)(w,{portfolio_id:this.state.id,portfolio_values:this.state.values,update:this.update})})]})}}]),a}(n.a.Component),I=a(21),L=a.n(I),T=function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).state={options:{chart:{height:350,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:s.props.name+" Price",align:"left"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:s.props.labels}},series:[{name:s.props.name,data:s.props.data}]},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({series:[{name:this.props.name,data:this.props.data}],options:{chart:{height:350,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:this.props.name+" Price",align:"left"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:this.props.labels}}})}},{key:"render",value:function(){var t=this.state.options,e=this.state.series;return Object(v.jsx)("div",{id:"chart",children:Object(v.jsx)(L.a,{options:t,series:e,type:"line",height:350})})}}]),a}(n.a.Component),B=function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).round=function(t){return Math.round(100*t)/100},s.logout=function(){console.log("Logging Out"),window.location.reload(!1)},s.state={current_prices:s.props.current_prices,portfolio_id:s.props.portfolio_id,portfolio_values:s.props.portfolio,flip:!1,username:s.props.username},s.transaction_update=s.transaction_update.bind(Object(p.a)(s)),s.time_update=s.time_update.bind(Object(p.a)(s)),s}return Object(u.a)(a,[{key:"time_update",value:function(t){console.log("Updating to latest price data"),this.setState({current_prices:t,flip:!this.state.flip})}},{key:"componentDidMount",value:function(){this.setState({current_prices:this.props.current_prices,portfolio_id:this.props.portfolio_id,portfolio_values:this.props.portfolio,flip:!1})}},{key:"transaction_update",value:function(t){this.setState({portfolio_values:t}),console.log("transaction update completed")}},{key:"get_html",value:function(t,e,a,s,n){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)("div",{className:"top",children:Object(v.jsxs)("div",{className:"top-container",children:[Object(v.jsx)("div",{className:"title-container",children:"Mac's OG Crypto App"}),Object(v.jsxs)("div",{className:"logged-in-as",children:["Logged in as: ",this.state.username," ",Object(v.jsx)("button",{type:"button",onClick:this.logout,children:"Logout"})]}),Object(v.jsx)("div",{className:"tabs-div",children:Object(v.jsxs)(x,{children:[Object(v.jsx)("div",{label:"Bitcoin",children:Object(v.jsx)(T,{name:"Bitcoin",data:e,labels:t})}),Object(v.jsx)("div",{label:"Ethereum",children:Object(v.jsx)(T,{name:"Ethereum",data:a,labels:t})}),Object(v.jsx)("div",{label:"Litecoin",children:Object(v.jsx)(T,{name:"Litecoin",data:s,labels:t})})]})})]})}),Object(v.jsx)("div",{className:"bottom",children:Object(v.jsx)("div",{className:"bottom-container",children:Object(v.jsx)(S,{id:this.state.portfolio_id,values:this.state.portfolio_values,transaction_update:this.transaction_update,current_prices:this.state.current_prices[0],time_update:this.time_update})})})]})}},{key:"render",value:function(){var t=this,e=this.state.current_prices.map((function(t){return t.time})).reverse(),a=this.state.current_prices.map((function(t){return t.btc_usd})).map((function(e){return t.round(e)})).reverse(),s=this.state.current_prices.map((function(t){return t.eth_usd})).map((function(e){return t.round(e)})).reverse(),n=this.state.current_prices.map((function(t){return t.ltc_usd})).map((function(e){return t.round(e)})).reverse(),c=this.state.portfolio_values;return this.state.flip,this.get_html(e,a,s,n,c)}}]),a}(n.a.Component),F=window.is_deploy?"https://crypto-web-app-macstark.herokuapp.com/":"http://localhost:3000/",M=function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).state={callback:s.props.new_user_callback,error:void 0},s.onClick=s.onClick.bind(Object(p.a)(s)),s}return Object(u.a)(a,[{key:"onClick",value:function(){var t=this,e=document.getElementById("new_username").value,a=document.getElementById("new_password").value,s=F+"createuser/".concat(e,"/").concat(a);console.log(s),m()({method:"get",url:s}).then((function(e){console.log(e),t.setState({error:"Account Created"}),setTimeout((function(){window.location.reload()}),1e3)})).catch((function(e){console.log(e),t.setState({error:"Username already taken"})}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"login-container",children:[Object(v.jsx)("div",{className:"login-form-header",children:"Create new Account!"}),Object(v.jsxs)("div",{className:"login-username",children:[Object(v.jsx)("label",{htmlFor:"new_username",children:"Username"}),Object(v.jsx)("input",{type:"text",id:"new_username",name:"new_username"})]}),Object(v.jsxs)("div",{className:"login-password",children:[Object(v.jsx)("label",{htmlFor:"new_password",children:"Password"}),Object(v.jsx)("input",{type:"password",id:"new_password",name:"new_password"})]}),Object(v.jsx)("button",{type:"button",onClick:this.onClick,children:"Create Account!"})]}),Object(v.jsx)("div",{children:this.state.error})]})}}]),a}(n.a.Component),E=window.is_deploy?"https://crypto-web-app-macstark.herokuapp.com/":"http://localhost:3000/",U=function(t){Object(h.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).login=function(){var t=Object(l.a)(o.a.mark((function t(e,a,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m()({method:"get",url:E+"currentprices/"}).then((function(t){s.setState({isLoggedIn:!0,portfolio_id:e,portfolio_values:a,current_prices:t.data,username:n,loggin_in:!0})}));case 1:case"end":return t.stop()}}),t)})));return function(e,a,s){return t.apply(this,arguments)}}(),s.create_new_user_button=function(){this.setState({loggin_in:!1})},s.state={isLoggedIn:!1,portfolio_id:0,portfolio_values:void 0,current_prices:void 0,username:void 0,loggin_in:!0},s.create_new_user_button=s.create_new_user_button.bind(Object(p.a)(s)),s.back_to_login=s.back_to_login.bind(Object(p.a)(s)),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({isLoggedIn:!1,portfolio_id:0,portfolio_values:void 0,current_prices:void 0,username:void 0,loggin_in:!0})}},{key:"back_to_login",value:function(){this.setState({loggin_in:!0})}},{key:"render",value:function(){return!1===this.state.isLoggedIn&&!0===this.state.loggin_in?Object(v.jsx)("div",{children:Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"login-header",children:[Object(v.jsx)("h3",{children:"COMP 426: Final Project"}),Object(v.jsx)("h5",{children:"Mac Stark , UNC Spring 2021"}),Object(v.jsx)("p",{children:"Welcome to my crypto web-app. This app pulls real time prices of bitcoin, ethereum and litecoin averaged across several exchanges. When you create an account you will be given 100,000 USD. How much money can you make?"})]}),Object(v.jsxs)("div",{className:"login-box",children:[Object(v.jsx)(O,{login_callback:this.login}),Object(v.jsxs)("div",{className:"new-user-button",children:["Or: ",Object(v.jsx)("button",{type:"button",onClick:this.create_new_user_button,children:"Create Account"})]})]})]})}):!1===this.state.isLoggedIn&&!1===this.state.loggin_in?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"login-box",children:Object(v.jsx)(M,{new_user_callback:this.new_user})}),Object(v.jsxs)("div",{className:"new-user-button",children:["Or: ",Object(v.jsx)("button",{type:"button",onClick:this.back_to_login,children:"Back to Main Page"})]})]}):Object(v.jsx)(B,{current_prices:this.state.current_prices,portfolio_id:this.state.portfolio_id,portfolio:this.state.portfolio_values,username:this.state.username})}}]),a}(n.a.Component);window.is_deploy=!0,i.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(U,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.1f31728d.chunk.js.map